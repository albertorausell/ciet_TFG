{% block content %}

<form action="{% url 'contents' id=cap_id obj_pos=0 cont_pos=0%}" method="POST">
    {% csrf_token %}
    <div class="modal fade" id="addEvaluation" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" style="max-width: 50%;width: auto !important;" role="document">
        <div class="modal-content">
            <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">Evaluation</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
            </div>
            <div class="modal-body"id="modal-body">
                <h6 style="text-align: left;">Choose element to create its evaluation:</h6>
                <div class="row">
                    <div class="col-4 border-right" id="colList">
                        <div id="contentEvList" role="tablist" style="height: 400; overflow: auto; display: block;padding: 10; border-radius: 5px;">
                            <div style="word-wrap: break-word">
                                <a class="underline" title="Plan" style="font-size:16;cursor:pointer;color: darkgray; text-decoration: none;display: inline;word-wrap: break-word;" onclick="evaluateCapability('{{cap_id}}')" data-toggle="list" role="tab">
                                    <i>{{cap_name}}</i>
                                </a>
                            </div>
                            <div class="border-left">
                                {% for objective in obj_cont %}
                                <div style="word-wrap: break-word">
                                    <a class="underline" title="Objective" style="margin-left: 30; cursor:pointer;color: darkgray; text-decoration: none;display: inline;word-wrap: break-word;" onclick="evaluateObjective('{{objective.cap_obj_pk}}')" data-toggle="list" role="tab">
                                        <i>{{objective.name}}</i>
                                    </a>
                                </div>
                                <div class="border-left" style="margin-left: 40;">
                                    {% for content in objective.contents %}
                                        <div style="word-wrap: break-word">
                                            <a class="underline" title="Content" style="margin-left: 5; cursor:pointer;color: darkgray; text-decoration: none;display: inline;word-wrap: break-word;" onclick="evaluateContent('{{content.pk}}')" data-toggle="list" role="tab">
                                                <i>{{content.name}}</i>
                                            </a>
                                        </div>
                                    {% endfor %}
                                </div>
                                <br>
                            {% endfor %}
                            </div>
                        </div>
                    </div>
                    <div class="col-8" style="height: 400; overflow: auto; display: block;">
                        <div style="padding-top: 10;padding-left: 10; padding-bottom: 10;margin:10; width: 95%; text-align: center;border-style: solid;border-radius: 5px;border-color: lightgray; border-width: thin;">
                            <div style="width: 97%;">
                                <input class="form-control question" type="text" placeholder="Question...">
                            </div>
                            <br>
                            <div style="width: 97%; margin-bottom: 5;">
                                <input class="form-control answer" type="text" placeholder="Answer...">
                            </div>
                            <div style="width: 97%; margin-bottom: 5;">
                                <input class="form-control answer" type="text" placeholder="Answer...">
                            </div>
                            <div>
                                <a href="#" type="button">
                                    <span class="fa-stack fa-lg">
                                      <i  style="color: dimgrey;" class="fa fa-circle fa-stack-2x"></i>
                                      <i class="fa fa-plus fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
            <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <input id="textin" name="action" value="text" hidden>
            <input id="contManttext" name="contMant" value="0" hidden>
            <input id="objManttext" name="objMant" value="0" hidden>
            <input class="btn btn-primary" type="submit" value="Add" hidden/>
            </div>
        </div>
        </div>
    </div>
</form>



<script>

    function evaluate(id, scope) {
        
    }

    function evaluateCapability(id) {
        let col = document.getElementById('colList');
        let list = col.getElementsByTagName('a');
        for (const element of list) {
            if (element.title == 'Plan' & getIdByOnClick(element) == id) {
                element.classList.add('actived')
            } else {
                element.classList.remove('actived')
            }
        }
        evaluate(id, 'capability');
    }
    function evaluateObjective(id) {
        let col = document.getElementById('colList');
        let list = col.getElementsByTagName('a');
        for (const element of list) {
            if (element.title == 'Objective' & getIdByOnClick(element) == id) {
                element.classList.add('actived')
            } else {
                element.classList.remove('actived')
            }
        }
        evaluate(id, 'objective');
    }
    function evaluateContent(id) {
        let col = document.getElementById('colList');
        let list = col.getElementsByTagName('a');
        for (const element of list) {
            if (element.title == 'Content' & getIdByOnClick(element) == id) {
                element.classList.add('actived')
            } else {
                element.classList.remove('actived')
            }
        }
        evaluate(id, 'content');
    }
</script>

{% endblock %}